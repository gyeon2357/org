<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>종로구</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="../assets/style.css" />
    <style>
      input[type="submit"] {
        position: fixed;
        transform: translateY(-50%);
        right: 50%;
        bottom: 0;

        width: 50%;
        height: 300px;

        z-index: 1001 !important;
      }

      .wrapper {
        right: 50%;
      }

      .add-items-o input[type="text"] {
        display: none;
      }
    </style>
  </head>

  <!-- partial:index.partial.html -->

  <body>
    <div class="wrapper">
      <p></p>
      <ul class="plates-o">
        <li>Loading Tapas...</li>
      </ul>
      <form class="add-items-o">
        <input type="text" name="item" disabled="disabled" />
        <input type="submit" value="O" onclick="var e=this;setTimeout(function(){e.disabled=true;},0);return true;"/>
      </form>
    </div>

    <iframe src="./x.html"></iframe>

     <section class="backspace">
        <a href="../">처음으로 되돌아가기</a>
      </section>

    <script>
      const addItems = document.querySelector(".add-items-o");
      const itemsList = document.querySelector(".plates-o");
      const items = JSON.parse(localStorage.getItem("jongrogu-o")) || [];
      function addItem(e) {
        e.preventDefault();
        const text = this.querySelector("[name=item]").value;
        const item = {
          text,
          done: false,
        };
        items.push(item);
        populateList(items, itemsList);
        localStorage.setItem("jongrogu-o", JSON.stringify(items));
        this.reset();
      }
      function populateList(plates = [], platesList) {
        platesList.innerHTML = plates
          .map((plate, i) => {
            return `
            <li><img src="../black.svg"/></li>
      `;
          })
          .join("");
      }
      function toggleDone(e) {
        if (!e.target.matches("input")) return; // skip this unless it's an input
        const el = e.target;
        const index = el.dataset.index;
        items[index].done = !items[index].done;
        localStorage.setItem("jongrogu-o", JSON.stringify(items));
        populateList(items, itemsList);
      }
      addItems.addEventListener("submit", addItem);
      itemsList.addEventListener("click", toggleDone);
      populateList(items, itemsList);

      
    </script>
  </body>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"></script>
</html>
